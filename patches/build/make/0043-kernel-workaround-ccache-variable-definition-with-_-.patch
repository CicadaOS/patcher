From 1ddbd85e5c94e55410b8d80ba2403d72532bf8b6 Mon Sep 17 00:00:00 2001
From: Adrian DC <radian.dc@gmail.com>
Date: Sun, 18 Aug 2019 01:20:46 +0200
Subject: [PATCH 43/44] kernel: workaround 'ccache' variable definition with _
 prefix

Change-Id: I2afb8c49b4c91297bf21d0bcc81a987a7e167cd1
---
 core/tasks/kernel.mk | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/core/tasks/kernel.mk b/core/tasks/kernel.mk
index 8d81395..ea3f537 100644
--- a/core/tasks/kernel.mk
+++ b/core/tasks/kernel.mk
@@ -228,17 +228,17 @@ endif
 
 ifneq ($(USE_CCACHE),)
     # Detect if the system already has ccache installed to use instead of the prebuilt
-    ccache := $(shell which ccache)
+    _ccache := $(shell which ccache)
 
-    ifeq ($(ccache),)
-        ccache := $(ANDROID_BUILD_TOP)/prebuilts/misc/$(HOST_PREBUILT_TAG)/ccache/ccache
+    ifeq ($(_ccache),)
+        _ccache := $(ANDROID_BUILD_TOP)/prebuilts/misc/$(HOST_PREBUILT_TAG)/ccache/ccache
         # Check that the executable is here.
-        ccache := $(strip $(wildcard $(ccache)))
+        _ccache := $(strip $(wildcard $(_ccache)))
     endif
 endif
 
-KERNEL_CROSS_COMPILE := CROSS_COMPILE="$(ccache) $(KERNEL_TOOLCHAIN_PATH)"
-ccache =
+KERNEL_CROSS_COMPILE := CROSS_COMPILE="$(_ccache) $(KERNEL_TOOLCHAIN_PATH)"
+_ccache =
 
 define mv-modules
     mdpath=`find $(KERNEL_MODULES_OUT) -type f -name modules.order`;\
-- 
2.7.4

